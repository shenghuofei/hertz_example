app:
  env: development
  log_file: "./avatar.log"
  log_level: info
  print_request_body: true
  metric_port: 9090
  port: 8080

database:
  default:
    driver: mysql
    # 优先使用 DSN，如果没有则组合 host/user/password/dbname
    dsn: ""
    hosts:
      write: "127.0.0.1:3306"
#      reads:
#        - "127.0.0.1:3306"
#        - "127.0.0.1:3306"
#    环境变量必须以AVATAR开头
#    export DATABASE_DEFAULT_USER=root
#    export DATABASE_DEFAULT_PASSWORD=123456
#    user: "{{ env MYSQL_USER }}"           # 可以使用 viper env override
#    password: "{{ env MYSQL_PASS }}"
    user: ""           # 可以使用 viper env override
    password: ""
    dbname: "xxxxxx"
    params:
      parseTime: "true"
      loc: "Local"
      charset: "utf8mb4"
    pool:
      max_open_conns: 50
      max_idle_conns: 10
      conn_max_lifetime_min: 30
    health:
      ping_timeout_ms: 3000
      ping_retries: 3
    read_write_split: true

  k8siac:
    driver: mysql
    #    dsn: "user:passwd@tcp(127.0.0.1:3306)/dbname?parseTime=true&loc=Local&charset=utf8mb4"
    hosts:
      write: "127.0.0.1:3306"
#      reads:
#        - "127.0.0.1:3306"
#        - "127.0.0.1:3306"
#    export DATABASE_DEFAULT_USER=root
#    export DATABASE_DEFAULT_PASSWORD=123456
#    user: "{{ env MYSQL_USER }}"           # 可以使用 viper env override
#    password: "{{ env MYSQL_PASS }}"
    user: ""           # 可以使用 viper env override
    password: ""
    dbname: "xxxxxx"
    params:
      parseTime: "true"
      loc: "Local"
      charset: "utf8mb4"
    pool:
      max_open_conns: 50
      max_idle_conns: 10
      conn_max_lifetime_min: 30
    health:
      ping_timeout_ms: 3000
      ping_retries: 3

redis:
  addr: "127.0.0.1:6379"
  passwd: "xxxxxxxx"
  db: 0
  MinIdleConns: 5
